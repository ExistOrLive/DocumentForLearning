# 基本内置类型

## 1. 算数类型

类型|含义|范围
----|----|----
bool|-|false/true
char|-|8bit
wchar_t|-|16bit
char16_t|-|16bit
char32_t|-|32bit
short|-|16bit
int|-|32bit
long|-|64bit
long long|-|64bit
float|-|32bit/6位有效数字
double|-|64位/10位有效数字

除了布尔型和扩展的字符型之外，其他整型可以划分为**带符号的**和**无符号的**两种。


Tip：
1. 当明确知道数值不可能为负时，使用无符号类型
2. 算术表达式中不要使用char和bool，尽量不要和其他数值类型相互转换
3. 浮点数运算使用double。与float相比精度高而且代价相差无几。

## 2. 类型转换

```c++
bool b = 42;     // true
int i = b;       // 1
i = 3.14;        // 3
double pi = i;   // 3.0
unsigned char c = -1;    // 255
char c2 = 256;    // 结果是未定义的  
```

1. 数值类型与bool型之间的转换
   
   - 数值类型赋值给bool型时；数值为0，bool为false；数值非0，bool为true
   - bool型赋值给数值类型；bool为true，结果为1；bool为false，结果为0

2. 整形数和浮点数之间的转换
   
   - 整型数赋值为浮点数：小数部分记为0，如果该整数所占的空间超过浮点类型的容量，精度有可能损失
   - 浮点数赋值为整型数：结果仅保留浮点数小数点之前的部分

3. 当赋值一个超过范围的数值

   - 赋值给无符号类型一个超过它范围的数值，**结果是初始值对无符号类型表示数值总数取模后的余数**
   - 赋值给有符号类型一个超过它范围的数值，**结果是未定义的**

### 2.1 算术表达式中的类型转换

当算术表达式中不同类型的变量进行算术运算时，首先需要转换为相同的类型。

**数值范围小的类型会转换为数值范围大的类型**

**相同数值范围的有符号数会转为对应的无符号数**

**整数会转为浮点数**

```c++

int a = 123;
long b = 123;

a + b;      // 246 运算前int会先转换为long

int a = 11；
unsigned int b = 12;
a - b;     // 4294967295  运算前int转化为unsigned int

int a = -1;
unsigned int b = 1;
a * b ;   // 4294967295  运算前int转化为unsigned int


int a = 123;
double c = 123.0;
a - c;     // 0.0 运算前int转化为double

```

Tip:

1. 切勿混用带符号类型和无符号类型

## 3. 字面值常量

每个字面值常量都对应一种数据类型，字面值常量的形式和值都决定它的数据类型。

#### 3.1 整数字面值

```c++
20    // 10进制 
067   // 8进制
0x14  // 16进制

```
没有指定类型的整数字面值的类型是`int`,`unsigned int`,`long`
,`unsigned long`,`long long`,`unsignd long long`中能容纳字面值的尺寸最小的类型。

`short`,`unsigned short`没有字面值

```c++ 
// 指定类型
20u     // unsigned int
20L     // long
20LL    // long long
20ULL   // unsigned long long
```


#### 3.2 浮点数字面值

```c++
3.1415

0e0

1E-3    // 科学计数法
```

默认，浮点数字面值是`double`类型



#### 3.3 字符和字符串类型

```c++
'a'                // char

"Hello World"      // 
```
#### 3.4 布尔字面值和指针字面值

```c++
true 

false 

NULL
```

#### 3.5 转义序列

对于不可打印字符和拥有特殊含义的字符的字面值需要使用**转义序列**

```c++
'\n'   // 换行符
'\t'   // 横向制表符
'\"'   // 双引号
'\''   // 单引号
```

泛化的转义序列，其形式为`\x后紧跟一个或者多个16进制数字`或者是`\后紧跟1个或者2个或者3个8进制数字`。

```c++
'\41'    // !
'\x21'    // !

"\1234"   // 8进制最多仅能3个数字， 这里实际上是'\123'和'2'两个字符
```

`char`只占8bit，因此转义序列表示一个字符，8进制数字最多3位，16进制最多两位

```c++ 
"\u0034"   // u可以表示Unicode16字符  16进制4位

"\U00000066"  // U 可以表示Unicode32字符 16进制8位
```












