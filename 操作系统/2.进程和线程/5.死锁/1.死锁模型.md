# 死锁

## 1. 死锁概念

如果一个进程集合中的每一个进程都在等待集合中其他进程才能引发的事件，那么该进程集合就是死锁的。


## 2. 死锁模型 (资源分配图)

### 2.1 资源分配图：一组顶点V和边E的集合。

顶点V：

- $P=\{P_1,P_2,...,P_n\}$, 集合包括系统中所有的进程

- $R=\{R_1,R_2,...,R_n\}$, 集合包括系统中所有的资源

边E:

- 进程请求资源       $P_i  -> R_j$

- 资源被进程占有     $R_j -> P_i$ 


### 2.2 图示

进程使用圆形表示；

资源使用方形表示，方形内部显示资源的个数

圆形指向方形的箭头表示 进程请求资源

方形指向圆形的箭头表示 资源被进程占有

![](https://pic.existorlive.cn/%E6%88%AA%E5%B1%8F2020-10-08%20%E4%B8%8A%E5%8D%882.47.49.png)

#### 无死锁

![](https://pic.existorlive.cn/%E6%88%AA%E5%B1%8F2020-10-08%20%E4%B8%8A%E5%8D%882.52.48.png)

没有循环等待，没有死锁

#### 有环死锁

![](https://pic.existorlive.cn/%E6%88%AA%E5%B1%8F2020-10-08%20%E4%B8%8A%E5%8D%882.57.00.png)

存在环，循环等待，有死锁

#### 有环无死锁

![](https://pic.existorlive.cn/%E6%88%AA%E5%B1%8F2020-10-08%20%E4%B8%8A%E5%8D%883.04.10.png)




## 3. 死锁的必要不充分条件

- 互斥： 
  
       资源的占有是互斥

- 占有并等待： 
        
       进程占有一个资源并等待另一个资源

- 不可抢占

        不可以抢占另一个进程占有的资源

- 循环等待

         

         
