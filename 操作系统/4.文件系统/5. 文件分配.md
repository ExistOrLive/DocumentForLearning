# 文件分配

如何为一个文件分配数据块：

- 连续分配
- 链式分配
- 索引分配

要高效的利用存储空间和快速访问数据

## 1. 连续分配

![](https://gitee.com/existorlive/exist-or-live-pic/raw/master/%E6%88%AA%E5%B1%8F2020-10-27%20%E4%B8%8B%E5%8D%8810.27.07.png)

适用于高效的顺序和随机访问，但是快速的实现文件增长，且有内存碎片问题


## 2.链式分配

![](https://gitee.com/existorlive/exist-or-live-pic/raw/master/%E6%88%AA%E5%B1%8F2020-10-27%20%E4%B8%8B%E5%8D%8810.32.56.png)

适用于需要高速增长或者减小文件的情形，且没有碎片；但只能顺序访问，且可靠性不高（其中一个节点丢失了指针）

## 3. 索引分配

![](https://gitee.com/existorlive/exist-or-live-pic/raw/master/%E6%88%AA%E5%B1%8F2020-10-27%20%E4%B8%8B%E5%8D%8810.35.56.png)

当处理大文件时，索引表也很大，为了保证访问的高效，可以采用多级索引表的方式

![](https://gitee.com/existorlive/exist-or-live-pic/raw/master/%E6%88%AA%E5%B1%8F2020-10-27%20%E4%B8%8B%E5%8D%8811.01.44.png)

