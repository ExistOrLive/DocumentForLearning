# 读写者模型

## 1.问题描述

有读者和写者两种角色对共享的一块资源进行访问：

- 读者和读者之间可以同时访问资源

- 同一时间只能有一个写者在访问资源

- 写者访问时，读者不能访问

- 没有读者访问时，才能够写



## 2. 信号量实现（读优先）

一个信号量 w 保证写操作之间，写操作和读操作之间的互斥访问


一个共享变量 readCount 记录当前正在读的读者数目；一个信号量 readCoutMutex 保证 readCount的互斥访问。


## 4. 互斥量和条件变量实现

一个互斥量 mutex 保证共享变量的互斥访问

共享变量 readCount ， isWrite

条件变量 readCondition 当isWrite == true， 使线程等待

条件变量 writeCondition 当readCount > 0 , 使写线程等待







## 2. 代码实现

[ZMReadWriteLock](https://github.com/ExistOrLive/pieces-of-code/tree/master/ZMReadWriteLock)