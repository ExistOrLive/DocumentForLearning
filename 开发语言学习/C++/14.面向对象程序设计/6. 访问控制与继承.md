# 访问控制

每个类控制着其成员能够被派生类，友元和类对象使用者能够访问。


## 1. 类成员声明的访问控制符

类的成员在声明时需要指定其访问控制符。`class`的成员默认是`private`。`struct`的成员默认是`public`。

C++ 提供了三种访问控制符。

- `public` : 派生类，友元，以及类对象使用者都可以访问

- `private` : 只有在类的作用域中，或者类的友元可以访问

- `protected`: 类对象使用者不可以访问， 派生类和友元可以访问。


> 派生类的成员和友元只能访问派生类对象中的基类部分的受保护成员；对于普通的基类对象中的成员不具备特殊的访问权限

## 2. 类派生时的访问控制

派生访问控制符的目的是控制派生类用户(包括派生类的派生类在内)对于基类成员的访问权限。

- `public`: 派生类用户 可以访问基类成员

- `private`: 派生类用户 不可以访问基类成员

- `protected`: 派生类用户不可以返回，派生类的派生类可以访问

## 3. 派生类向基类转换的可访问性

- 在用户代码中， 只有公有继承的子类对象的引用或指针才能转换为父类的指针或者引用

- 在子类成员函数中或子类的友元中，不论使用什么继承方式，子类对象的引用或指针都可以转换为父类的指针或者引用

- 在子类的子类中，只有公有继承和受保护，子类对象的引用或指针才可以转换为父类的指针或者引用

> 对于代码中的某个节点，如果基类的公有成员可以访问，类型转换才可行。


## 4. 修改个别成员的可访问性

有时在派生类继承的名字中，希望修改它的访问级别，通过使用`using`。


```c++
class SuperClass{
protected:
int a;
void test();
};

class SubClass : public SuperClass{
int b;

public: 

using SuperClass::a;
using SuperClass::test;     // 声明为public
};

```

> 派生类只能为那些它可以访问的名字提供using声明。

## 5. 默认的访问控制

`class` 中声明的成员默认`private`,`struct`中声明的成员默认`public`。

`class` 中默认继承方式为`private`,`struct`中默认继承方式为`public`.

这也是`class`和`struct`的唯一区别。 