# 顺序容器的定义和初始化 以及 赋值 

每个容器类型都定义了一个默认的构造函数。除了`array`之外，其他容器的默认构造函数都会创建一个指定类型的空容器。

## 1. 容器的定义以及初始化

### 1.1 默认初始化

```c++
vector<int> vec;        // 空的数组

list<int> li;           // 空的链表

array<int,10> arr;      // 创建一个10个元素的数组，每个元素都是默认初始化    array类型中包含了元素的个数

```

### 1.2 列表初始化

除了`array`的顺序容器，列表初始化时根据列表的元素创建相应数量的容器

`array`容器的大小在对象定义前就已经确定，因此初始化列表中元素的个数必须小于等于`array`容器的大小

```c++
vector<int> vec = {1,2,3};        // 3个元素的数组

list<int> li = {2,3,4};           // 3个元素的链表

array<int,10> arr = {1,2,3};       // 创建一个10个元素的数组，前3个元素列表初始化，剩余的元素默认初始化

array<int,2> arr = {1,2,3};      // 报错

```

### 1.3 拷贝初始化

当一个容器初始化为另一个容器的拷贝时，两个容器的容器类型和元素类型必须相同。


`array`容器中元素个数也是类型的一部分，因此要求拷贝的容器必须容器类型，元素类型，元素个数都相同。

```c++ 

vector<int> vec1 = vec;        // 拷贝vec中的元素

list<int> li1 = li;           // 拷贝li中的元素

array<int,10> arr1 = arr;       //  

array<int,2> arr2 = {1,2};
array<int,10> arr1 = arr2;        // arr2和arr1的类型不一致。

```

### 1.4 其他方式

```c++
vector<int> vec(10);          // 创建包含10个元素的数组

vector<int> vec(10,10);       // 创建包含10个元素的数组，每个元素初始化为10


list<int> li(vec.begin(),vec.end());    // 使用其他容器的迭代器初始化

```

使用元素个数和迭代器初始化不适用于`array`


## 2.赋值和swap

赋值和初始化实际上是分别调用了**赋值运算符的重载函数**和**拷贝构造函数**。

### 2.1 使用赋值运算符

```c++

vector<int> vec;        
list<int> li;        
array<int,10> arr;      

// 使用列表赋值
vec = {1,2,3};       // 拷贝3个元素

li = {1,2,3};        // 拷贝3个元素

arr = {1,2,3};      // 拷贝前三个元素，剩余元素默认初始化

// 使用容器对象赋值

vec = vec1;

li = li1;

arr = arr1;         // 要求arr和arr1类型完全一致（包括容器大小）

```

### 2.2 assign函数（不适用于array）

赋值运算符要求左右的运算对象类型相同。

顺序容器(除了array)定义了一个`assign`函数，允许从一个不同但是相容的容器中拷贝元素。

```c++

vector<int> vec; 

vec.assign(li.begin(),li.end());    // 使用迭代器

vec.assign({1,2,3});             // 

vec.assign(10,10);               // 创建包含10个元素的数组，每个元素初始化为10

```

### 2.3 swap函数

`swap`函数交换两个类型完全相同的容器内容。

除了`array`之外的顺序容器，元素本身并未交换，而是交换了两个容器的内部数据结构。 `swap`不对任何元素进行拷贝，删除和插入操作，可以保证在常数时间内完成。

`array` 会真正交换它们的元素，因此交换两个array所需的时间和array的长度成正比。


```c++
swap(c1,c2);

c1.swap(c2);
```


## Tip

`array` 可以认为是**能够进行赋值和拷贝操作的**静态数组。 

在声明时已经确定`array`容器的长度，使用列表初始化和赋值时，要求元素个数小于等于容器长度。

不可以以任何的方式修改`array`的长度。

在赋值和拷贝时，要求类型完全一致。



